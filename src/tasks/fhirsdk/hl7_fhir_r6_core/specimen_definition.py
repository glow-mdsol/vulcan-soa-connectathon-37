# WARNING: This file is autogenerated by FHIR Schema Codegen.
# https://github.com/fhir-schema/fhir-schema-codegen
# Any manual changes made to this file may be overwritten.

from __future__ import annotations
from pydantic import BaseModel, ConfigDict, Field, PositiveInt
from typing import List as PyList, Literal

from fhirsdk.hl7_fhir_r6_core.base import \
    BackboneElement, CodeableConcept, Coding, ContactDetail, Duration, Identifier, Period, Quantity, Range, \
    Reference, UsageContext
from fhirsdk.hl7_fhir_r6_core.domain_resource import DomainResource
from fhirsdk.hl7_fhir_r6_core.resource_families import DomainResourceFamily


class SpecimenDefinitionTypeTested(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    
    container: SpecimenDefinitionTypeTestedContainer | None = Field(None, alias="container", serialization_alias="container")
    handling: PyList[SpecimenDefinitionTypeTestedHandling] | None = Field(None, alias="handling", serialization_alias="handling")
    is_derived: bool | None = Field(None, alias="isDerived", serialization_alias="isDerived")
    preference: Literal["preferred", "alternate"] = Field(alias="preference", serialization_alias="preference")
    rejection_criterion: PyList[CodeableConcept] | None = Field(None, alias="rejectionCriterion", serialization_alias="rejectionCriterion")
    requirement: str | None = Field(None, alias="requirement", serialization_alias="requirement")
    retention_time: Duration | None = Field(None, alias="retentionTime", serialization_alias="retentionTime")
    single_use: bool | None = Field(None, alias="singleUse", serialization_alias="singleUse")
    testing_destination: PyList[CodeableConcept] | None = Field(None, alias="testingDestination", serialization_alias="testingDestination")
    type: CodeableConcept | None = Field(None, alias="type", serialization_alias="type")

class SpecimenDefinitionTypeTestedContainer(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    
    additive: PyList[SpecimenDefinitionTypeTestedContainerAdditive] | None = Field(None, alias="additive", serialization_alias="additive")
    cap: CodeableConcept | None = Field(None, alias="cap", serialization_alias="cap")
    capacity: Quantity | None = Field(None, alias="capacity", serialization_alias="capacity")
    description: str | None = Field(None, alias="description", serialization_alias="description")
    material: CodeableConcept | None = Field(None, alias="material", serialization_alias="material")
    minimum_volume_quantity: Quantity | None = Field(None, alias="minimumVolumeQuantity", serialization_alias="minimumVolumeQuantity")
    minimum_volume_string: str | None = Field(None, alias="minimumVolumeString", serialization_alias="minimumVolumeString")
    preparation: str | None = Field(None, alias="preparation", serialization_alias="preparation")
    type: CodeableConcept | None = Field(None, alias="type", serialization_alias="type")

class SpecimenDefinitionTypeTestedContainerAdditive(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    
    additive_codeable_concept: CodeableConcept | None = Field(None, alias="additiveCodeableConcept", serialization_alias="additiveCodeableConcept")
    additive_reference: Reference | None = Field(None, alias="additiveReference", serialization_alias="additiveReference")

class SpecimenDefinitionTypeTestedHandling(BackboneElement):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    
    instruction: str | None = Field(None, alias="instruction", serialization_alias="instruction")
    max_duration: Duration | None = Field(None, alias="maxDuration", serialization_alias="maxDuration")
    temperature_qualifier: CodeableConcept | None = Field(None, alias="temperatureQualifier", serialization_alias="temperatureQualifier")
    temperature_range: Range | None = Field(None, alias="temperatureRange", serialization_alias="temperatureRange")


class SpecimenDefinition(DomainResource):
    model_config = ConfigDict(validate_by_name=True, serialize_by_alias=True, extra="forbid")
    
    resource_type: str = Field(
        default='SpecimenDefinition',
        alias='resourceType',
        serialization_alias='resourceType',
        frozen=True,
        pattern='SpecimenDefinition'
    )
    
    approval_date: str | None = Field(None, alias="approvalDate", serialization_alias="approvalDate")
    collection: PyList[CodeableConcept] | None = Field(None, alias="collection", serialization_alias="collection")
    contact: PyList[ContactDetail] | None = Field(None, alias="contact", serialization_alias="contact")
    copyright: str | None = Field(None, alias="copyright", serialization_alias="copyright")
    copyright_label: str | None = Field(None, alias="copyrightLabel", serialization_alias="copyrightLabel")
    date: str | None = Field(None, alias="date", serialization_alias="date")
    derived_from_canonical: PyList[str] | None = Field(None, alias="derivedFromCanonical", serialization_alias="derivedFromCanonical")
    derived_from_uri: PyList[str] | None = Field(None, alias="derivedFromUri", serialization_alias="derivedFromUri")
    description: str | None = Field(None, alias="description", serialization_alias="description")
    effective_period: Period | None = Field(None, alias="effectivePeriod", serialization_alias="effectivePeriod")
    experimental: bool | None = Field(None, alias="experimental", serialization_alias="experimental")
    identifier: Identifier | None = Field(None, alias="identifier", serialization_alias="identifier")
    jurisdiction: PyList[CodeableConcept] | None = Field(None, alias="jurisdiction", serialization_alias="jurisdiction")
    last_review_date: str | None = Field(None, alias="lastReviewDate", serialization_alias="lastReviewDate")
    name: str | None = Field(None, alias="name", serialization_alias="name")
    patient_preparation: PyList[CodeableConcept] | None = Field(None, alias="patientPreparation", serialization_alias="patientPreparation")
    publisher: str | None = Field(None, alias="publisher", serialization_alias="publisher")
    purpose: str | None = Field(None, alias="purpose", serialization_alias="purpose")
    status: Literal["draft", "active", "retired", "unknown"] = Field(alias="status", serialization_alias="status")
    subject_codeable_concept: CodeableConcept | None = Field(None, alias="subjectCodeableConcept", serialization_alias="subjectCodeableConcept")
    subject_reference: Reference | None = Field(None, alias="subjectReference", serialization_alias="subjectReference")
    time_aspect: str | None = Field(None, alias="timeAspect", serialization_alias="timeAspect")
    title: str | None = Field(None, alias="title", serialization_alias="title")
    type_collected: CodeableConcept | None = Field(None, alias="typeCollected", serialization_alias="typeCollected")
    type_tested: PyList[SpecimenDefinitionTypeTested] | None = Field(None, alias="typeTested", serialization_alias="typeTested")
    url: str | None = Field(None, alias="url", serialization_alias="url")
    use_context: PyList[UsageContext] | None = Field(None, alias="useContext", serialization_alias="useContext")
    version: str | None = Field(None, alias="version", serialization_alias="version")
    version_algorithm_coding: Coding | None = Field(None, alias="versionAlgorithmCoding", serialization_alias="versionAlgorithmCoding")
    version_algorithm_string: str | None = Field(None, alias="versionAlgorithmString", serialization_alias="versionAlgorithmString")
    
    def to_json(self, indent: int | None = None) -> str:
        return self.model_dump_json(exclude_unset=True, exclude_none=True, indent=indent)
    
    @classmethod
    def from_json(cls, json: str) -> SpecimenDefinition:
        return cls.model_validate_json(json)

